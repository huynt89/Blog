<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>CMS Admin - HuyNT</title>
    <style>
        body { font-family: sans-serif; background: #eaeff2; padding: 40px; }
        .admin-box { max-width: 600px; margin: auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { background: #238636; color: white; border: none; padding: 15px; width: 100%; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 16px; }
        .note { font-size: 12px; color: #666; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="admin-box">
        <h2>üöÄ ƒêƒÉng b√†i vi·∫øt m·ªõi</h2>
        <p class="note">L∆∞u √Ω: B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p GitHub ƒë·ªÉ x√°c nh·∫≠n vi·ªác ƒëƒÉng b√†i.</p>
        
        <input type="text" id="title" placeholder="Ti√™u ƒë·ªÅ b√†i vi·∫øt">
        <select id="category">
            <option value="PC">M√°y t√≠nh (PC)</option>
            <option value="MAC">MAC</option>
            <option value="Mobile">ƒêi·ªán tho·∫°i</option>
            <option value="Other">Kh√°c</option>
        </select>
        <textarea id="summary" rows="5" placeholder="M√¥ t·∫£ ng·∫Øn g·ªçn n·ªôi dung b√†i vi·∫øt..."></textarea>
        <input type="text" id="imgUrl" placeholder="D√°n URL ·∫£nh v√†o ƒë√¢y (ho·∫∑c upload v√†o Issue sau)">
        
        <button onclick="publish()">X√°c nh·∫≠n ƒëƒÉng b√†i</button>
    </div>

    <script>
        function publish() {
            const title = document.getElementById('title').value;
            const category = document.getElementById('category').value;
            const summary = document.getElementById('summary').value;
            const img = document.getElementById('imgUrl').value || "https://via.placeholder.com/400x250";

            if (!title || !summary) return alert("Vui l√≤ng ƒëi·ªÅn ti√™u ƒë·ªÅ v√† n·ªôi dung!");

            // T·∫°o payload JSON ƒë·ªÉ GitHub Action parse
            const payload = {
                version: "1.0",
                type: "POST_PUBLISH",
                data: {
                    title: title,
                    category: category,
                    summary: summary,
                    image: img
                }
            };

            const bodyIssue = "```json\n" + JSON.stringify(payload, null, 2) + "\n```";
            const url = `https://github.com/huynt89/Blog/issues/new?title=${encodeURIComponent("[PUBLISH]: " + title)}&body=${encodeURIComponent(bodyIssue)}&labels=cms-post`;
            
            window.open(url, '_blank');
        }
    </script>
</body>
</html>